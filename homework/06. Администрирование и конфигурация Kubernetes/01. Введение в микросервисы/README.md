# Домашнее задание по теме: "Введение в микросервисы"

## Задача

Руководство крупного интернет-магазина, у которого постоянно растёт пользовательская база и количество заказов, рассматривает возможность переделки своей внутренней ИТ-системы на основе микросервисов.

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру.

Опишите, какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы нужно решить в первую очередь.

## Ответ

Преимуществами использования микросервисов будет:

1) Возможность использования разных технологий (применения новых компонентов легче реализовать для отдельного микросервиса чем для монолита)
2) Устойчивость к ошибкам (ошибки в работе микросервиса не затронут всю систему)
3) Масштабируемость (возможность запускать несколько экземпляров микросервиса позволит обеспечить распределенную нагрузку и требуемую отказоустойчивость)
4) Простота развертывания + Простота замены (микросервисы позволяют в полной мере организовать подход CI/CD)
5) Отражение структуры организации

Учитывая, что интернет магазин-крупный и тем более с постоянно растущей клиентской базой, переход на микросервисы позволит не только быстрее вводить новый функционал, ну и в целом повысить надежность системы при правильном проектировании.

С точки зрения архитектуры микросервисной системы первоначально требуется решить задачи:
1) Подготовить план разделения монолитного приложения, определить домены микросервисов, ответственность команд разработки и их тип распределения.
2) Выбрать тип межсервисного взаимодействия, синхронное/асинхронное.
  * Для систем больше направленных на чтение - синхронный тип является более приоритетным.
  * Для систем ориентированных на запись - асинхронное.

3) Выбрать тип организации бизнес процессов:
  * *Оркестровка* - описание внутреннего бизнес-процесса предприятия в виде потока взаимодействия между внутренними и внешними для организации веб-сервисами.
  * *Хореография* - определение последовательности условий, при соблюдении которых несколько независимых участников обмениваются сообщениями с целью выполнения некоторой общей бизнес-задачи.

3) Выбрать тип протоколов интеграции (`REST`, `SOAP`, `CTCP`, `GraphQ`, `JSON-RPC`) как для внешнего API, так и для внутреннего.

4) Решить вопросы безопасности, а конкретно, в каком виде будет происходить обмен данными между микросервисами (зашифрованный/незашифрованный, с авторизацией или без нее).
  * Вариантами протоколов авторизации могут служить: `HTTP Basic`, `OAUTH (SSO)`, `Client Cert`, `HMAC`, `API Keys`.
